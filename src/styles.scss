@import url('https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700');
@import 'assets/sass/bootstrap/custom-bootstrap';
@import 'assets/sass/material/theme';
@import 'assets/sass/mixins';

@include mat-core($ap-typography-config);

@include angular-material-theme($ap-theme);
@include mat-button-theme($ap-button-theme);

// Import the theme overrides only after the theme has been initialized as above.
@import 'assets/sass/material/theme-overrides';

// _layout.scss
html,
body {
  height: 100%;
}

body {
  margin: 0;
  background: $mdc-theme-background;
  color: $mdc-theme-on-primary;
}

.main {
  height: calc(100% - 64px);
  margin: 0;
  padding: 0;
}

.db {
  display: block;
}

// _utilities.scss
.w-80 {
  width: 80%;
}

.w-83 {
  width: 83%;
}

.fs-1 {
  font-size: 1em !important;
}

.fs-1-25 {
  font-size: 1.25em !important;
}

.fs-1-5 {
  font-size: 1.5em !important;
}

.fs-2 {
  font-size: 2em !important;
}

.fs-3 {
  font-size: 3em !important;
}

.bg-primary {
  background: $primary !important;
}

.bg-accent {
  background: $accent !important;
}

.bg-gray {
  background: $light-gray !important;
}

.txt-light {
  color: $white !important;
}

.txt-gray {
  color: $gray !important;
}

.txt-dark {
  color: #333 !important;
}

// Link styles
// TODO: Consider applying this style globally to the anchor tag
.txt-link {
  color: $primary-link-color !important;
}

mat-nav-list.mat-nav-list.primary-links .mat-list-item {
  font-size: inherit;
  height: inherit;
  color: $primary-link-color;
}
// End link styles

.txt-small {
  font-size: 0.75rem;
}

.txt-med {
  font-size: 0.85rem;
}

.txt-large {
  font-size: 1.75rem;
}

.lsp-1 {
  letter-spacing: 1px;
}

.lsp-2 {
  letter-spacing: 2px;
}

h2,
h3,
h4 {
  color: $primary;
}

.full-width {
  width: 100%;
}

// _lists.scss
.two-column-list {
  margin-left: 0;
  padding-left: 0;
  list-style: none;

  li {
    padding: 0.5rem 0;
    display: flex;
    justify-content: space-between;
  }
}

// _dialog.scss
.mat-dialog-container {
  min-width: 500px !important;
}

// _tables.scss
table {
  // FIXME: If we want these mat-row, mat-cell, etc overrides to Angular Material, they should be moved
  //  into our theme overrides rather than here.
  .mat-row {
    height: auto;
  }

  .mat-cell,
  .mat-header-cell {
    padding: 8px !important;
  }

  .paid {
    background: #f3f3f3;
  }

  .amount {
    background: #e2e2e2;
  }

  .prncpl {
    background: #bcc8d3;
  }
}

input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
  background-color: transparent !important;
  color: white !important;
}

// _forms.scss

.mat-datepicker-toggle {
  font-size: 1.3rem;
  top: -6px;
  position: relative;
}

// _code.scss
pre {
  padding: 1rem !important;
  background: #15171e;
  color: #a5a8b0;
  border: 0;
  outline: none !important;
  border-radius: 7px;
  overflow-x: scroll;

  span {
    white-space: normal;
  }

  .string {
    color: #abb677 !important;
  }

  .number {
    color: #de9a6d !important;
  }

  .boolean {
    color: #7995bf !important;
  }

  .null {
    color: #de6d6d !important;
  }

  .key {
    color: #a5a8b0 !important;
  }
}

// _wrapup.scss
#wrapUp {
  position: fixed;
  z-index: 99;
  bottom: 1rem;
  right: 1rem;
}

input[type='number'].hide-number-control {
  @include hide-number-control;
}

// _search.scss
.text-align-right {
  text-align: right;
}

.mat-button-toggle-label-content {
  padding: 0;
}

.mat-tab-label.mat-tab-label-active {
  color: $mdc-theme-secondary;
  opacity: 1;
}

.mat-button-toggle.mat-button-toggle-checked {
  color: $mdc-theme-secondary;
  background-color: $lightest-blue;
}

.mat-ink-bar {
  color: $mdc-theme-secondary;
}

div.mat-tab-body-content {
  overflow: hidden;
}

// deeply nested tab content needs x-axis scroll for smaller viewports
app-processor-dashboard-card div.mat-tab-body-content {
  overflow-y: hidden;
  overflow-x: auto;
  -ms-overflow-style: -ms-autohiding-scrollbar;
}

.intl-tel-input .flag-container {
  top: auto !important;
  height: 30px !important;
}

// modal container styling, can't be inside a component
div.transparent-dialog {
  background-color: rgba(0, 0, 0, 0);
  overflow: scroll;

  // hide the scrollbar...
  -ms-overflow-style: none; // IE 10+
  scrollbar-width: none; // Firefox

  &::-webkit-scrollbar {
    display: none; // Safari and Chrome
  }

  & > mat-dialog-container.mat-dialog-container {
    padding: 0;
    box-shadow: none;
    background-color: rgba(0, 0, 0, 0);
  }
}

// modal container styling, can't be inside a component
.transparent-dialog-backdrop {
  background-color: rgba(150, 150, 150, 0.8);
}

.transparent-paginator-backdrop {
  background: transparent;
}

.mat-icon.mat-icon-inline.large-icon-size {
  font-size: 1.5rem;
}

// fixes the padding/margin issue on datepickers, don't set the height to 0 as it will make IE11's icons go crazy
.mat-form-field-suffix .mat-icon-button {
  width: 33px !important;
  height: 20px !important;
}

.info-icon {
  width: 20px;
  height: 20px;
  vertical-align: middle;
  margin-right: 5px;
}

.info-text {
  font-size: smaller;
  position: relative;
  top: -20px;
}

/*
 * MatTable styles for a table with expandable rows.
 *
 * Apply the .mat-expandable-row class to expandable matRowDef
 * When expanded, add the .mat-expanded-row class
 *
 * The matRowDef for the expanded row should have a .mat-expanded-detail-row
 * class on it. The matColumnDef for the expanded detail row should have
 * a div within its td element with the Angular Animation trigger binding
 * upon it (e.g., [@detailExpand]).
 *
 * Recommendation: Search for uses of the above to see implementation details
 *  in use.
 *
 * @see https://material.angular.io/components/table/examples
 */
table.mat-table {
  tr.mat-expandable-row {
    &:not(.mat-expanded-row):hover {
      background: #f5f5f5;
    }

    &:not(.mat-expanded-row):active {
      background: #efefef;
    }

    td {
      border-bottom-width: 0;
    }
  }

  tr.mat-expanded-detail-row {
    height: 0;

    > td {
      padding: 0 !important;

      > div {
        overflow: hidden;
      }
    }
  }
}

/*
 * Apply the .left-aligned-sort-columns class to a mat-table table which
 * is utilizing sort columns IF you want to override the default center
 * text alignment to be left aligned.
 */
table.mat-table.left-aligned-sort-columns .mat-sort-header-content {
  text-align: left;
}

.data-list-item {
  display: flex;
  justify-content: space-between;

  // stylelint-disable-next-line no-descending-specificity
  > div:first-of-type {
    // Provide a buffer when the label or data is quite long and starts bumping into one another.
    margin-right: 0.5rem;
  }

  // stylelint-disable-next-line no-descending-specificity
  > div:last-of-type {
    font-weight: 700;
  }

  &.item-col {
    flex-direction: column;

    /*
     * --grey is deprecated as 'gray' is the preferred spelling
     * within our theme color variables.
     */
    &--gray,
    &--grey {
      flex-direction: column;

      > div:first-of-type {
        font-size: 0.75rem;
        color: $gray;
        margin-bottom: -0.4rem;
      }
    }

    &--description {
      flex-direction: column;

      > div:first-of-type {
        font-weight: 700;
      }

      > div:last-of-type {
        font-weight: 400;
      }
    }
  }

  &.highlight-item {
    background: #e3f5fc;
  }
}

.data-list-items-container {
  h4 {
    margin-bottom: unset;
    color: rgba(0, 0, 0, 0.87);
  }

  > app-divider {
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;

    &:last-of-type {
      margin-bottom: 1rem;
    }
  }
}

.compare-data-list-items {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  background: $light-gray;
  padding: 0.5rem;

  // @deprecated, use subsequent mat-icon style
  > mat-icon.mat-icon {
    color: $primary-link-color;
    font-size: 3em;
    align-self: flex-start;
  }

  > span {
    font-size: 2.75em;

    & > mat-icon.mat-icon-inline {
      color: $primary-link-color;
    }
  }

  > .data-list-item:last-of-type div:last-of-type {
    text-align: right;
  }

  > mat-form-field {
    width: unset;
  }
}

.click-to-select {
  user-select: all;
}

// For mat-select options which have extra long text
.mat-select-panel mat-option.dense {
  word-break: normal;
  white-space: pre-line;
  height: inherit;
}

/*
 * Remove most of the mat-form-field validation message
 * gutters and re-add when the field is invalid in order
 * to show mat-error elements.
 *
 * Recommendation: Apply to form elements as desired.
 *  Otherwise apply to individual mat-form-field elements.
 */
.no-validation-gutters mat-form-field,
mat-form-field.no-validation-gutters {
  margin-bottom: -0.7em;

  &.mat-form-field-invalid {
    margin-bottom: 0.5em;
  }
}

/*
 * Override the top and bottom margin utilities currently applied to the mat-card
 * within our message components to set unset those values.
 *
 * TODO: The message styles should be updated to define margin at the top-level
 *  component level so this can be easily overridden outside of these global styles.
 */
app-simple-message.no-message-gutters .mat-card,
app-message.no-message-gutters .mat-card {
  margin-top: unset !important;
  margin-bottom: unset !important;
}

app-death,
app-disability,
app-fraud,
app-charge-off,
app-change-due-date {
  span[mattooltip='Close'] {
    float: right;
  }

  h3 {
    margin: 0;

    &::after {
      display: block;
      clear: both;
      content: '';
    }
  }
}

mat-toolbar.portal-header {
  max-height: 40px;
  background-color: $mdc-theme-secondary;
  color: white;
  align-items: center;
  justify-content: space-between;

  &.prod-uat-bg {
    background-color: #a60303;
  }

  // stylelint-disable-next-line no-descending-specificity
  & > div {
    display: flex;
    align-items: center;
  }

  h1 {
    @include mat-typography-level-to-styles($ap-typography-config, headline);
    margin-left: 1rem;
  }

  img {
    max-height: 1.25em;
    max-width: 1.25em;
  }
}

/* Please Note: must not be wrapped within a mat-toolbar */
mat-button-toggle-group.wrapping-button-toggle-group {
  flex-wrap: wrap;
  width: 100%;
  justify-content: center;
}

// TODO: Once we decide make this a standard, move up into _theme-overrides.scss
app-account-activity-card,
app-account-history,
app-credit-report-work-list,
app-delinquent-call-history,
app-interest-rate-history-snapshot,
app-loan-account-history,
app-search-results,
app-scra-benefits-history-dialog,
app-school-enrollment-history,
app-suspense,
app-transaction-history {
  div.mat-paginator-container {
    justify-content: space-between;
  }

  mat-paginator.no-gutters div.mat-paginator-container {
    padding: 0;
  }
}

app-suspense-notes {
  // stylelint-disable-next-line no-descending-specificity
  div.mat-paginator-container {
    justify-content: center;
  }

  div.mat-paginator-range-actions {
    & > button:first-of-type {
      order: 0;
    }
    & > button:last-of-type {
      order: 2;
    }
    & > div.mat-paginator-range-label {
      order: 1;
      margin-right: 0;
      margin-left: 0;
    }
  }
}

app-reamortize-loan-action-dialog,
app-reamortization-calculator-action-dialog {
  app-simple-message > app-message > mat-card.mat-card {
    margin-top: 0.5rem !important;
    margin-bottom: 0.5rem !important;
  }
}

app-loan-card-contents {
  mat-toolbar.mat-toolbar {
    background: none;
  }

  mat-button-toggle.mat-button-toggle {
    // aka .txt-link
    color: $primary-link-color !important;
    font-weight: mat-font-weight($ap-typography-config, body-2);
  }
}
